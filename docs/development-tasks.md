# 开发任务拆分与完成状态

基于 `docs/requirements.md` 进行任务拆分，并对当前版本状态进行标记。

## A. 隔离浏览器（FR-1）

- [x] A1. 支持新建/切换/关闭标签页。
- [x] A2. 每个标签页使用独立 `persist:ctx-<uuid>` partition。
- [x] A3. 地址栏输入网址并访问，自动补全 `https://`。
- [x] A4. 关闭标签释放 BrowserView 资源。

## B. 账号矩阵（FR-2）

- [x] B1. 平台默认支持抖音/小红书/头条。
- [x] B2. 支持新增账号（平台、昵称、AI开关、状态）。
- [x] B3. 支持账号列表查询。

## C. 热点采集（FR-3）

- [x] C1. 提供采集入口。
- [x] C2. 热点数据包含平台、主题、热度、采集时间。
- [x] C3. 热点可被后续 AI 生成功能选择。

## D. AI 内容生成（FR-4）

- [x] D1. 支持基于热点生成文章/视频脚本/图片文案。
- [x] D2. 支持语气参数输入。
- [x] D3. 返回标题、正文、生成时间并可预览。

## E. 定时发布（FR-5）

- [x] E1. 创建定时发布任务（账号、内容类型、发布时间）。
- [x] E2. 增加任务状态流转：scheduled/running/success/failed。
- [x] E3. 增加任务执行日志查看。

## F. 工程质量与可维护性（NFR + 任务拆解）

- [x] F1. Electron 安全基线（contextIsolation/nodeIntegration/sandbox）。
- [x] F2. IPC 命名空间规范（contexts:*, matrix:*）。
- [x] F3. 将矩阵业务逻辑从 main 拆分到独立服务模块（`matrix-service`）。
- [x] F4. 增加 IPC 入参校验（`validators`）。
- [x] F5. 增加调度器轮询执行器与日志。
- [x] F6. 使用本地持久化存储替代纯内存（当前为 JSON 文件持久化）。
- [x] F7. 升级到 SQLite 存储（已使用 `node:sqlite` 落地）。
- [x] F8. 增加单元测试（matrix-service / validators / scheduler）。

## G. 当前未完成项与下一步开发

1. [x] **G1 - IPC 集成测试补齐（已完成）**
   - 已增加主进程 IPC handler 级别测试。
   - 已覆盖错误路径与边界入参。

2. [x] **G2 - 平台 API 适配层（基础版已完成）**
   - 已抽象并接入平台适配器（抖音/小红书/头条）。
   - 已增加失败重试、基础限流与告警日志能力。

3. [~] **G3 - 真实平台接口联调（进行中）**
   - [x] 已补充签名鉴权请求结构（HMAC）与错误码映射基础框架。
   - [x] 已补充发布监控指标落库（publish_metrics）与查询接口。
   - [ ] 将当前模拟适配器替换为真实平台开放接口。
   - [x] 已增加基础告警上报通道（Webhook，可配置）。
   - [x] 已增加 IM（企业微信/飞书）告警通道（Webhook 版）。


## H. 本轮增强（已完成）

- [x] H1. 账号管理增强：状态切换（active/disabled）与删除账号。
- [x] H2. 调度管理增强：任务取消与手动重试。
- [x] H3. 运营看板增强：聚合统计（账号/任务/成功/失败）与前端展示。
- [x] H4. 发布可观测增强：发布指标与日志联动展示。
- [x] H5. 素材资产增强：AI生成内容可保存到素材库并用于发布任务。
- [x] H6. 数据治理增强：支持快照导出/导入（合并/覆盖）与列表查询限流。
